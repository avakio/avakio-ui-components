/* =============================
   AVAKIO SCHEDULER - BASE
   ============================= */

.avakio-scheduler {
  --sch-primary: #1ca1c1;
  --sch-primary-strong: #0f7b93;
  --sch-surface: #ffffff;
  --sch-border: #d1d5db;
  --sch-text: #0f172a;
  --sch-muted: #6b7280;
  --sch-muted-strong: #374151;
  --sch-bg-alt: #f8fafc;
  display: flex;
  flex-direction: column;
  gap: 12px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  color: var(--sch-text);
}

.avakio-sch-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 12px;
  background: var(--sch-surface);
  border: 1px solid var(--sch-border);
  border-radius: 12px;
  box-shadow: 0 10px 20px -18px rgba(0, 0, 0, 0.25);
  flex-wrap: wrap;
}

.avakio-sch-nav, .avakio-sch-views { display: inline-flex; gap: 8px; }
.avakio-sch-title { font-weight: 800; color: var(--sch-muted-strong); }

.avakio-sch-btn {
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid var(--sch-border);
  background: linear-gradient(180deg, #fff 0%, #f8fafc 100%);
  cursor: pointer;
  font-weight: 700;
  color: var(--sch-text);
  transition: all 0.15s ease;
}
.avakio-sch-btn:hover { border-color: color-mix(in srgb, var(--sch-primary) 30%, var(--sch-border)); color: var(--sch-primary-strong); }
.avakio-sch-btn.is-active { border-color: var(--sch-primary); color: var(--sch-primary-strong); box-shadow: 0 0 0 2px rgba(28, 161, 193, 0.15); }
.avakio-sch-status { font-size: 12px; color: var(--sch-muted); font-weight: 600; }
.avakio-sch-status.is-error { color: #b91c1c; }

/* Month view */
.avakio-sch-month { border: 1px solid var(--sch-border); border-radius: 12px; overflow: hidden; background: var(--sch-surface); }
.avakio-sch-weekdays { display: grid; grid-template-columns: repeat(7, 1fr); background: var(--sch-bg-alt); border-bottom: 1px solid var(--sch-border); }
.avakio-sch-weekday { padding: 10px; text-align: center; font-weight: 700; color: var(--sch-muted); }

/* Mobile month (AvakioCalendar) */
.avakio-sch-month-mobile { display: flex; flex-direction: column; gap: 16px; }
.avakio-sch-mobile-events { border: 1px solid var(--sch-border); border-radius: 12px; background: var(--sch-surface); padding: 12px; }
.avakio-sch-mobile-events-header { font-weight: 700; color: var(--sch-muted-strong); margin-bottom: 8px; }
.avakio-sch-mobile-empty { color: var(--sch-muted); font-size: 14px; }
.avakio-sch-mobile-list { display: flex; flex-direction: column; gap: 8px; }
.avakio-sch-mobile-item { display: flex; gap: 10px; align-items: center; padding: 10px; border: 1px solid var(--sch-border); border-radius: 10px; cursor: pointer; background: var(--sch-surface); transition: border-color 0.12s ease, box-shadow 0.12s ease; }
.avakio-sch-mobile-item:hover { border-color: var(--sch-primary); box-shadow: 0 6px 12px -10px rgba(0,0,0,0.24); }
.avakio-sch-mobile-meta { display: flex; flex-direction: column; gap: 2px; }
.avakio-sch-mobile-title { font-weight: 700; color: var(--sch-muted-strong); }
.avakio-sch-mobile-time { font-size: 12px; color: var(--sch-muted); }

.avakio-sch-grid { display: grid; grid-template-columns: repeat(7, 1fr); grid-auto-rows: 120px; }
.avakio-sch-cell { border-right: 1px solid var(--sch-border); border-bottom: 1px solid var(--sch-border); padding: 8px; position: relative; }
.avakio-sch-cell:nth-child(7n) { border-right: none; }
.avakio-sch-cell-date { font-weight: 700; color: var(--sch-muted-strong); margin-bottom: 4px; }
.avakio-sch-cell-date { display: flex; align-items: center; justify-content: space-between; gap: 6px; }
.avakio-sch-more-btn {
  padding: 4px 8px;
  border-radius: 8px;
  border: 1px solid var(--sch-border);
  background: linear-gradient(180deg, #fff 0%, #f8fafc 100%);
  font-size: 12px;
  color: var(--sch-primary-strong);
  cursor: pointer;
  transition: all 0.12s ease;
}

/* Overflow popup list */
.avakio-sch-more-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-height: 260px;
  overflow-y: auto;
  padding-right: 4px;
}

.avakio-sch-more-item {
  display: flex;
  gap: 10px;
  align-items: center;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid var(--sch-border);
  background: var(--sch-surface);
  box-shadow: 0 6px 14px -12px rgba(0, 0, 0, 0.28);
  cursor: pointer;
  transition: border-color 0.12s ease, box-shadow 0.12s ease;
}

.avakio-sch-more-item:hover {
  border-color: var(--sch-primary);
  box-shadow: 0 10px 20px -14px rgba(0, 0, 0, 0.35);
}

.avakio-sch-dot {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  flex-shrink: 0;
  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.06);
}

.avakio-sch-more-meta { display: flex; flex-direction: column; gap: 2px; }
.avakio-sch-more-title { font-weight: 700; color: var(--sch-muted-strong); }
.avakio-sch-more-time { font-size: 12px; color: var(--sch-muted); }
.avakio-sch-more-btn:hover { border-color: var(--sch-primary); box-shadow: 0 0 0 2px rgba(28, 161, 193, 0.12); }
.avakio-sch-cell.is-out { background: #f9fafb; color: var(--sch-muted); }
.avakio-sch-cell-events { display: flex; flex-direction: column; gap: 4px; }

/* Week view */
.avakio-sch-week { border: 1px solid var(--sch-border); border-radius: 12px; background: var(--sch-surface); }
.avakio-sch-week-row { display: grid; grid-template-columns: repeat(7, 1fr); }
.avakio-sch-daycol { border-right: 1px solid var(--sch-border); padding: 10px; }
.avakio-sch-daycol:last-child { border-right: none; }
.avakio-sch-day-header { font-weight: 700; margin-bottom: 8px; color: var(--sch-muted-strong); }
.avakio-sch-day-events { display: flex; flex-direction: column; gap: 6px; }

/* Day view */
.avakio-sch-day { border: 1px solid var(--sch-border); border-radius: 12px; background: var(--sch-surface); padding: 12px; }
.avakio-sch-day-header { font-weight: 800; margin-bottom: 10px; color: var(--sch-muted-strong); }
.avakio-sch-day-events { display: flex; flex-direction: column; gap: 6px; }

/* Event pill */
.avakio-sch-event {
  padding: 8px 10px;
  border-radius: 10px;
  color: #fff;
  font-weight: 700;
  box-shadow: 0 6px 14px -10px rgba(0, 0, 0, 0.35);
  cursor: pointer;
  transition: transform 0.1s ease, box-shadow 0.1s ease;
}
.avakio-sch-event-inline { box-shadow: 0 4px 12px -10px rgba(0, 0, 0, 0.3); }
.avakio-sch-event:hover { transform: translateY(-1px); box-shadow: 0 10px 18px -14px rgba(0, 0, 0, 0.4); }
.avakio-sch-event-title { font-size: 13px; }
.avakio-sch-event-time { font-size: 12px; opacity: 0.9; }

/* THEMES */

[data-admin-theme="material"] .avakio-scheduler,
.avakio-scheduler[data-admin-theme="material"] {
  --sch-primary: #1ca1c1;
  --sch-primary-strong: #0f7b93;
  --sch-surface: #ffffff;
  --sch-border: #d7dde4;
  --sch-text: #0f172a;
  --sch-muted: #6b7280;
  --sch-muted-strong: #374151;
  --sch-bg-alt: #f8fafc;
}

[data-admin-theme="flat"] .avakio-scheduler,
.avakio-scheduler[data-admin-theme="flat"] {
  --sch-primary: #5e81ac;
  --sch-primary-strong: #46678e;
  --sch-surface: #f7f9fb;
  --sch-border: #cfd8e6;
  --sch-text: #1f2a3d;
  --sch-muted: #42526a;
  --sch-muted-strong: #27344b;
  --sch-bg-alt: #eef2f7;
}

[data-admin-theme="compact"] .avakio-scheduler,
.avakio-scheduler[data-admin-theme="compact"] {
  --sch-primary: #00796b;
  --sch-primary-strong: #005f55;
  --sch-surface: #f4faf8;
  --sch-border: #b7d6d1;
  --sch-text: #0b2c28;
  --sch-muted: #1f5a52;
  --sch-muted-strong: #123c36;
  --sch-bg-alt: #e9f3f1;
}

[data-admin-theme="dark"] .avakio-scheduler,
.avakio-scheduler[data-admin-theme="dark"] {
  --sch-primary: hsl(217, 91%, 60%);
  --sch-primary-strong: hsl(217, 100%, 78%);
  --sch-surface: hsl(222, 47%, 11%);
  --sch-border: hsl(217, 33%, 17%);
  --sch-text: hsl(210, 40%, 96%);
  --sch-muted: hsl(215, 20%, 80%);
  --sch-muted-strong: hsl(210, 40%, 90%);
  --sch-bg-alt: hsl(217, 33%, 17%);
}

[data-admin-theme="ocean"] .avakio-scheduler,
.avakio-scheduler[data-admin-theme="ocean"] {
  --sch-primary: #0277bd;
  --sch-primary-strong: #015c93;
  --sch-surface: #f1f7fd;
  --sch-border: #bfd8f1;
  --sch-text: #0f2740;
  --sch-muted: #244f74;
  --sch-muted-strong: #1a3a5b;
  --sch-bg-alt: #e3effc;
}

[data-admin-theme="sunset"] .avakio-scheduler,
.avakio-scheduler[data-admin-theme="sunset"] {
  --sch-primary: #f57c00;
  --sch-primary-strong: #c35f00;
  --sch-surface: #fff8f1;
  --sch-border: #f4d3ad;
  --sch-text: #4a2e0f;
  --sch-muted: #8c5416;
  --sch-muted-strong: #5c360f;
  --sch-bg-alt: #fde9d9;
}

@media (max-width: 900px) {
  .avakio-sch-grid { grid-auto-rows: 160px; }
  .avakio-sch-toolbar { flex-direction: column; align-items: flex-start; }
  .avakio-sch-nav, .avakio-sch-views { flex-wrap: wrap; }
}

@media (max-width: 720px) {
  .avakio-scheduler { gap: 8px; }
  .avakio-sch-toolbar { padding: 8px; gap: 8px; }
  .avakio-sch-title { width: 100%; font-size: 16px; }
  .avakio-sch-nav, .avakio-sch-views { width: 100%; }
  .avakio-sch-btn { flex: 1 1 48%; min-width: 140px; }
  .avakio-sch-weekday { padding: 8px; font-size: 12px; }
  .avakio-sch-grid { grid-auto-rows: 140px; }
  .avakio-sch-cell { padding: 6px; }
  .avakio-sch-cell-events { gap: 3px; }
  .avakio-sch-event { padding: 6px 8px; }
  .avakio-sch-event-title { font-size: 12px; }
  .avakio-sch-event-time { font-size: 11px; }
  .avakio-sch-more-list { max-height: 220px; }
  .avakio-sch-month-agenda { display: block; }
  .avakio-sch-month { border-radius: 0; border-left: none; border-right: none; }
}

@media (max-width: 520px) {
  .avakio-sch-btn { flex: 1 1 100%; min-width: 0; }
  .avakio-sch-weekdays { grid-template-columns: repeat(7, minmax(0, 1fr)); }
  .avakio-sch-weekday { padding: 6px; font-size: 11px; }
  .avakio-sch-grid { grid-auto-rows: 120px; }
  .avakio-sch-cell { padding: 5px; }
  .avakio-sch-cell-date { font-size: 12px; }
  .avakio-sch-more-btn { padding: 3px 6px; font-size: 11px; }
  .avakio-sch-more-item { padding: 7px 8px; }
  .avakio-sch-more-title { font-size: 13px; }
  .avakio-sch-more-time { font-size: 11px; }
}

/* Month agenda (mobile) */
.avakio-sch-month-agenda {
  display: none;
  border: 1px solid var(--sch-border);
  border-radius: 12px;
  background: var(--sch-surface);
  box-shadow: 0 10px 20px -18px rgba(0, 0, 0, 0.25);
  overflow: hidden;
}

.avakio-sch-agenda-item {
  display: grid;
  grid-template-columns: 80px 14px 1fr;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-bottom: 1px solid var(--sch-border);
  cursor: pointer;
}

.avakio-sch-agenda-item:last-child { border-bottom: none; }

.avakio-sch-agenda-time { display: flex; flex-direction: column; font-weight: 700; color: var(--sch-muted-strong); font-size: 13px; }
.avakio-sch-agenda-time-end { color: var(--sch-muted); font-weight: 600; font-size: 12px; }

.avakio-sch-agenda-meta { display: flex; flex-direction: column; gap: 2px; }
.avakio-sch-agenda-title { font-weight: 700; color: var(--sch-muted-strong); }
.avakio-sch-agenda-date { font-size: 12px; color: var(--sch-muted); }

